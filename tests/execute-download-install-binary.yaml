---
- hosts: all
  become: true
  vars:

    cli:
      velero:
        bin_name: "velero"
        bin_version: "1.3.1"
        check_bin_version_before_installing: true
        source_url: "https://github.com/vmware-tanzu/velero/releases/download/v1.3.1/velero-v1.3.1-linux-amd64.tar.gz"
        bin_to_copy: "velero-v1.3.1-linux-amd64/velero"
        to_remove: "velero-v1.3.1-linux-amd64"
        bin_dir: "/usr/local/bin"
        version_cmd: " version --client-only"
        target_version: v1.3.1

      terraform:
        bin_name: "terraform"
        bin_version: "0.12.24"
        check_bin_version_before_installing: true
        source_url: "https://releases.hashicorp.com/terraform/0.12.24/terraform_0.12.24_linux_amd64.zip"
        bin_to_copy: "terraform"
        to_remove: "terraform"
        bin_dir: "/usr/local/bin"
        version_cmd: " --version"
        target_version: v0.12.24

      helm:
        bin_name: "helm"
        bin_version: "3.14.3"
        check_bin_version_before_installing: true
        source_url: "https://get.helm.sh/helm-v3.14.3-linux-amd64.tar.gz"
        bin_to_copy: "linux-amd64/helm"
        to_remove: "linux-amd64"
        bin_dir: "/usr/local/bin"
        version_cmd: " version"
        target_version: v3.14.3

      kubectl:
        bin_name: "kubectl"
        bin_version: "1.29.3"
        check_bin_version_before_installing: true
        source_url: "https://dl.k8s.io/v1.29.3/bin/linux/amd64/kubectl"
        bin_to_copy: "kubectl"
        to_remove: "kubectl"
        bin_dir: "/usr/local/bin"
        version_cmd: " version --client"
        target_version: v1.29.3

      packer:
        bin_name: "packer"
        bin_version: "1.10.2"
        check_bin_version_before_installing: true
        source_url: "https://releases.hashicorp.com/packer/1.10.2/packer_1.10.2_linux_amd64.zip"
        bin_to_copy: "packer"
        to_remove: "packer"
        bin_dir: "/usr/local/bin"
        version_cmd: " --version"
        target_version: v1.10.2

      k9s:
        bin_name: "k9s"
        bin_version: "0.32.4"
        check_bin_version_before_installing: true
        source_url: "https://github.com/derailed/k9s/releases/download/v0.32.4/k9s_Linux_amd64.tar.gz"
        bin_to_copy: "k9s"
        to_remove: "k9s"
        bin_dir: "/usr/local/bin"
        version_cmd: " version --short"
        target_version: v0.32.4


  tasks:
    - name: Start download_install_binary
      ansible.builtin.include_role:
        name: download-install-binary
